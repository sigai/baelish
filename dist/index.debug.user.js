// ==UserScript==
// @name        CrawlerTools
// @namespace   *.*
// @version     0.0.4
// @author      fangtiansheng <fangtiansheng@gmail.com>
// @source      https://github.com/Trim21/webpack-userscript-template
// @icon        https://www.valuesimplex.com/images/favicon.ico
// @license     MIT
// @match       *://*/*
// @connect     *
// @require     https://cdn.jsdelivr.net/npm/jquery@^3.6.0/dist/jquery.min.js
// @require     https://cdn.jsdelivr.net/npm/axios@^0.27.2/dist/axios.min.js
// @require     https://cdn.jsdelivr.net/npm/axios-userscript-adapter@^0.2.0/dist/axiosGmxhrAdapter.min.js
// @require     file:///Users/fangtiansheng/Documents/GitHub/baelish/dist/index.debug.user.js
// @grant       GM.xmlHttpRequest
// @run-at      document-end
// ==/UserScript==


/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\n\n\nconst {\n  version\n} = __webpack_require__(/*! ../package.json */ \"./package.json\");\n\nconst interval = 1000 * 20;\n\nasync function init() {\n  console.log(`%c æ³›é‡‡ç³»ç»Ÿä¸“ä¸šç‰ˆæ’ä»¶ %c v${version} %c`, \"background:#5D5D5D ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff\", \"background:#0D7FBF ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff\", \"background:transparent\");\n}\n\nasync function robots() {\n  const _title = window.document.title;\n  const res = await (0,_utils__WEBPACK_IMPORTED_MODULE_0__.get)(\"/robots.txt\", {});\n\n  if (res.status === 200) {\n    console.log(`ðŸ””å‘çŽ°ç½‘ç«™æœ‰robots.txtæ–‡ä»¶: ${res.request.responseURL}`);\n    window.document.title = \"ðŸ¤–\" + _title;\n  }\n}\n\nasync function sitemap() {\n  const res = await (0,_utils__WEBPACK_IMPORTED_MODULE_0__.get)(\"/sitemap.xml\", {});\n\n  if (res.status === 200) {\n    console.log(`ðŸ””å‘çŽ°ç½‘ç«™æœ‰sitemap.xmlæ–‡ä»¶: ${res.request.responseURL}`);\n    window.document.title = \"ðŸŒŽ\" + window.document.title;\n  }\n}\n\nasync function show() {\n  // confluenceä¸€ç›´æ˜¾ç¤ºåˆ›å»ºé¡µé¢æŒ‰é’®\n  console.log(\"ðŸ””confluence: æ˜¾ç¤ºåˆ›å»ºé¡µé¢æŒ‰é’®\");\n  document.getElementsByClassName(\"aui-header-primary\")[0].getElementsByClassName(\"aui-nav\")[0].style.width = \"auto\";\n}\n\nasync function ping() {\n  const res = await (0,_utils__WEBPACK_IMPORTED_MODULE_0__.get)(\"/crawl/crawl/get-user-list\", {});\n\n  if (res.status === 200) {\n    const heads = Array.from(document.getElementsByClassName(\"head\"));\n    heads.forEach(head => {\n      head.style.backgroundColor = \"\";\n      window.document.title = \"çˆ¬è™«ç®¡ç†ç³»ç»Ÿ\";\n    });\n  }\n}\n\nasync function close() {\n  // ESCå…³é—­ç½®é¡¶å¼¹å‡ºçª—\n  window.addEventListener(\"keydown\", function (e) {\n    if (e.keyCode === 27) {\n      console.log(\"esc æŒ‰äº†\"); //å…¨éƒ¨å¼¹çª—\n\n      var popups = document.getElementsByClassName(\"popup_hover\");\n\n      for (let i = popups.length; i--;) {\n        //éåŽ†å…¨éƒ¨å¼¹çª—\n        if (popups[i].style.display === \"\") {\n          //æŸ¥æ‰¾å¼¹å‡ºçš„çª—å£\n          let icon_close = popups[i].getElementsByClassName(\"popup_head_close_icon\");\n          icon_close[0].click();\n          break;\n        }\n      }\n    }\n  });\n  console.log(\"ðŸ””baelish: ESCç»‘å®šæˆåŠŸ\");\n}\n\nasync function save() {\n  //ä¿å­˜\n  window.addEventListener(\"keydown\", e => {\n    if (e.ctrlKey && e.key === \"s\") {\n      // Prevent the Save dialog to open\n      e.preventDefault(); // Place your code here\n\n      var button = document.getElementsByClassName(\"pageDetail_toolBox_item\")[0] || document.getElementsByClassName(\"planDetail_toolBox_item\")[0];\n      button.getElementsByTagName(\"button\")[0].click();\n    }\n  });\n  console.log(\"ðŸ””baelish: CTL+sç»‘å®šæˆåŠŸ\");\n}\n\nasync function check_meta_tags() {\n  //æ£€æµ‹metaæ ‡ç­¾\n  let title = window.document.title;\n\n  if (document.getElementsByName(\"ArticleTitle\").length) {\n    console.log('.//*[@name=\"ArticleTitle\"]/@content');\n    window.document.title = \"â¤ï¸\" + window.document.title;\n    setInterval(function () {\n      if (window.document.title.startsWith(\"â¤ï¸\")) {\n        window.document.title = \"ðŸ‡¨ðŸ‡³\" + title;\n      } else {\n        window.document.title = \"â¤ï¸\" + title;\n      }\n    }, 600);\n  }\n\n  if (document.getElementsByName(\"PubDate\").length || document.getElementsByName(\"pubdate\").length) {\n    console.log('.//*[translate(@name, \"PUBDATE\", \"pubdate\")=\"pubdate\"]/@content');\n  }\n\n  if (document.getElementsByName(\"ColumnName\").length) {\n    console.log('.//*[translate(@name, \"COLUMNNAME\", \"columnname\")=\"columnname\"]/@content');\n  }\n\n  if (document.getElementsByName(\"ContentSource\").length || document.getElementsByName(\"contentSource\").length) {\n    console.log('.//*[translate(@name, \"CONTENTSOURCE\", \"contentsource\")=\"contentsource\"]/@content');\n  }\n\n  if (document.getElementsByName(\"Author\").length || document.getElementsByName(\"author\").length) {\n    console.log('.//*[translate(@name, \"AUTHOR\", \"author\")=\"author\"]/@content');\n  }\n\n  if (document.getElementsByName(\"Keywords\").length || document.getElementsByName(\"keywords\").length) {\n    console.log('.//*[translate(@name, \"KEYWORDS\", \"keywords\")=\"keywords\"]/@content');\n  } // Wordpressç«™ç‚¹å‘å¸ƒæ—¥æœŸmetaæ ‡ç­¾æ£€æµ‹\n\n\n  let meta_pubdate = document.querySelectorAll('meta[content^=\"202\"]');\n\n  if (meta_pubdate.length > 0) {\n    meta_pubdate.forEach(function (each, i) {\n      i += 1;\n      console.log(\"å¸¦æœ‰æ—¶é—´æ ¼å¼çš„metaæ ‡ç­¾\" + i + \":\", each);\n\n      if (each.property && each.property.startsWith(\"article:\")) {\n        window.document.title = \"ðŸ’š\" + window.document.title;\n        setInterval(function () {\n          if (window.document.title.startsWith(\"ðŸ’š\")) {\n            window.document.title = \"ðŸ‡ºðŸ‡¸\" + title;\n          } else {\n            window.document.title = \"ðŸ’š\" + title;\n          }\n        }, 600);\n        console.log('.//*[contains(@property, \"article:published\")]/@content');\n      }\n    });\n  }\n}\n\nasync function auto_refesh() {\n  setInterval(function () {\n    let refresh_button = document.getElementsByClassName(\"is-circle\")[0];\n    console.log(\"ðŸ””auto_refesh: åˆ·æ–°æŒ‰é’®1\", refresh_button);\n\n    if (!refresh_button) {\n      return;\n    }\n\n    if (document.getElementsByClassName(\"auto_refresh_button\").length > 0) {\n      return;\n    }\n\n    console.log(\"ðŸ””auto_refesh: åˆ·æ–°æŒ‰é’®2\", refresh_button);\n    var b = document.createElement(\"button\");\n    b.textContent = \"è‡ªåŠ¨åˆ·æ–°\";\n    b.classList.add(\"auto_refresh_button\");\n    b.classList.add(\"el-button\");\n    b.classList.add(\"el-button--success\");\n    b.classList.add(\"el-button--mini\");\n\n    b.onclick = function () {\n      var timer = setInterval(function () {\n        document.getElementsByClassName(\"el-icon-refresh\")[0].click();\n      }, 1000 * 5);\n      b.id = timer;\n      b.textContent = \"åœæ­¢åˆ·æ–°\";\n      b.classList.remove(\"el-button--success\");\n      b.classList.add(\"el-button--warning\");\n\n      b.onclick = function () {\n        clearInterval(b.id);\n        b.remove();\n      };\n    };\n\n    refresh_button.after(b);\n  }, 1000);\n  console.log(\"ðŸ””baelish: è‡ªåŠ¨åˆ·æ–°ç»‘å®šæˆåŠŸ\");\n}\n\nclass Ping {\n  check() {\n    setTimeout(() => {\n      ping().catch(e => {\n        const heads = Array.from(document.getElementsByClassName(\"head\"));\n        heads.forEach(head => {\n          head.style.backgroundColor = \"gray\";\n          window.document.title = \"ðŸ”¥åŽå°æœåŠ¡å¼‚å¸¸ðŸ”¥\";\n        });\n        console.error(e);\n      });\n      this.check();\n    }, interval);\n  }\n\n}\n\nasync function main() {\n  if (location.hostname.startsWith(\"confluence\")) {\n    await show();\n  } else {\n    if (window.document.location.href.endsWith(\"#/home/crawl\")) {\n      await init();\n      await close();\n      await save();\n      let app = new Ping();\n      app.check();\n      await auto_refesh().catch(e => e);\n    } else {\n      await robots().catch(e => `ðŸ””æœªå‘çŽ°ç½‘ç«™æœ‰robots.txtæ–‡ä»¶`);\n      await sitemap().catch(e => `ðŸ””æœªå‘çŽ°ç½‘ç«™æœ‰sitemap.xmlæ–‡ä»¶`);\n      await check_meta_tags().catch(e => e);\n    }\n  }\n}\n\nmain().catch(e => {\n  console.log(e);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUo7TUFDQSxNQUFNZCxXQUFXLEdBQUdnQixLQUFkLENBQXFCdEMsQ0FBRCxJQUFPQSxDQUEzQixDQUFOO0lBQ0QsQ0FQRCxNQU9PO01BQ0wsTUFBTXZCLE1BQU0sR0FBRzZELEtBQVQsQ0FBZ0J0QyxDQUFELElBQVEsc0JBQXZCLENBQU47TUFDQSxNQUFNZCxPQUFPLEdBQUdvRCxLQUFWLENBQWlCdEMsQ0FBRCxJQUFRLHVCQUF4QixDQUFOO01BQ0EsTUFBTWMsZUFBZSxHQUFHd0IsS0FBbEIsQ0FBeUJ0QyxDQUFELElBQU9BLENBQS9CLENBQU47SUFDRDtFQUNGO0FBQ0Y7O0FBRUR3QyxJQUFJLEdBQUdGLEtBQVAsQ0FBY3RDLENBQUQsSUFBTztFQUNsQnpCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZd0IsQ0FBWjtBQUNELENBRkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJwYWNrLXVzZXJzY3JpcHQtdGVtcGxhdGUvLi9zcmMvaW5kZXgudHM/ZmZiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXQgfSBmcm9tIFwiLi91dGlsc1wiO1xuY29uc3QgeyB2ZXJzaW9uIH0gPSByZXF1aXJlKFwiLi4vcGFja2FnZS5qc29uXCIpO1xuXG5jb25zdCBpbnRlcnZhbCA9IDEwMDAgKiAyMDtcblxuYXN5bmMgZnVuY3Rpb24gaW5pdCgpIHtcbiAgY29uc29sZS5sb2coXG4gICAgYCVjIOazm+mHh+ezu+e7n+S4k+S4mueJiOaPkuS7tiAlYyB2JHt2ZXJzaW9ufSAlY2AsXG4gICAgXCJiYWNrZ3JvdW5kOiM1RDVENUQgOyBwYWRkaW5nOiAxcHg7IGJvcmRlci1yYWRpdXM6IDNweCAwIDAgM3B4OyAgY29sb3I6ICNmZmZcIixcbiAgICBcImJhY2tncm91bmQ6IzBEN0ZCRiA7IHBhZGRpbmc6IDFweDsgYm9yZGVyLXJhZGl1czogMCAzcHggM3B4IDA7ICBjb2xvcjogI2ZmZlwiLFxuICAgIFwiYmFja2dyb3VuZDp0cmFuc3BhcmVudFwiXG4gICk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJvYm90cygpIHtcbiAgY29uc3QgX3RpdGxlID0gd2luZG93LmRvY3VtZW50LnRpdGxlO1xuICBjb25zdCByZXMgPSBhd2FpdCBnZXQ8eyByb2JvdHM6IHN0cmluZyB9PihcIi9yb2JvdHMudHh0XCIsIHt9KTtcbiAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkge1xuICAgIGNvbnNvbGUubG9nKGDwn5SU5Y+R546w572R56uZ5pyJcm9ib3RzLnR4dOaWh+S7tjogJHtyZXMucmVxdWVzdC5yZXNwb25zZVVSTH1gKTtcbiAgICB3aW5kb3cuZG9jdW1lbnQudGl0bGUgPSBcIvCfpJZcIiArIF90aXRsZTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBzaXRlbWFwKCkge1xuICBjb25zdCByZXMgPSBhd2FpdCBnZXQ8eyBzaXRlbWFwOiBzdHJpbmcgfT4oXCIvc2l0ZW1hcC54bWxcIiwge30pO1xuICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgY29uc29sZS5sb2coYPCflJTlj5HnjrDnvZHnq5nmnIlzaXRlbWFwLnhtbOaWh+S7tjogJHtyZXMucmVxdWVzdC5yZXNwb25zZVVSTH1gKTtcbiAgICB3aW5kb3cuZG9jdW1lbnQudGl0bGUgPSBcIvCfjI5cIiArIHdpbmRvdy5kb2N1bWVudC50aXRsZTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBzaG93KCkge1xuICAvLyBjb25mbHVlbmNl5LiA55u05pi+56S65Yib5bu66aG16Z2i5oyJ6ZKuXG4gIGNvbnNvbGUubG9nKFwi8J+UlGNvbmZsdWVuY2U6IOaYvuekuuWIm+W7uumhtemdouaMiemSrlwiKTtcbiAgZG9jdW1lbnRcbiAgICAuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImF1aS1oZWFkZXItcHJpbWFyeVwiKVswXVxuICAgIC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYXVpLW5hdlwiKVswXS5zdHlsZS53aWR0aCA9IFwiYXV0b1wiO1xufVxuXG5hc3luYyBmdW5jdGlvbiBwaW5nKCkge1xuICBjb25zdCByZXMgPSBhd2FpdCBnZXQ8eyBwaW5nOiBzdHJpbmcgfT4oXCIvY3Jhd2wvY3Jhd2wvZ2V0LXVzZXItbGlzdFwiLCB7fSk7XG4gIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHtcbiAgICBjb25zdCBoZWFkcyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImhlYWRcIikpO1xuICAgIGhlYWRzLmZvckVhY2goKGhlYWQpID0+IHtcbiAgICAgIGhlYWQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJcIjtcbiAgICAgIHdpbmRvdy5kb2N1bWVudC50aXRsZSA9IFwi54is6Jmr566h55CG57O757ufXCI7XG4gICAgfSk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gY2xvc2UoKSB7XG4gIC8vIEVTQ+WFs+mXree9rumhtuW8ueWHuueql1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZS5rZXlDb2RlID09PSAyNykge1xuICAgICAgY29uc29sZS5sb2coXCJlc2Mg5oyJ5LqGXCIpO1xuICAgICAgLy/lhajpg6jlvLnnqpdcbiAgICAgIHZhciBwb3B1cHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicG9wdXBfaG92ZXJcIik7XG4gICAgICBmb3IgKGxldCBpID0gcG9wdXBzLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgLy/pgY3ljoblhajpg6jlvLnnqpdcbiAgICAgICAgaWYgKHBvcHVwc1tpXS5zdHlsZS5kaXNwbGF5ID09PSBcIlwiKSB7XG4gICAgICAgICAgLy/mn6Xmib7lvLnlh7rnmoTnqpflj6NcbiAgICAgICAgICBsZXQgaWNvbl9jbG9zZSA9IHBvcHVwc1tpXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxuICAgICAgICAgICAgXCJwb3B1cF9oZWFkX2Nsb3NlX2ljb25cIlxuICAgICAgICAgICk7XG4gICAgICAgICAgaWNvbl9jbG9zZVswXS5jbGljaygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgY29uc29sZS5sb2coXCLwn5SUYmFlbGlzaDogRVND57uR5a6a5oiQ5YqfXCIpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzYXZlKCkge1xuICAvL+S/neWtmFxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICBpZiAoZS5jdHJsS2V5ICYmIGUua2V5ID09PSBcInNcIikge1xuICAgICAgLy8gUHJldmVudCB0aGUgU2F2ZSBkaWFsb2cgdG8gb3BlblxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgLy8gUGxhY2UgeW91ciBjb2RlIGhlcmVcbiAgICAgIHZhciBidXR0b24gPVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicGFnZURldGFpbF90b29sQm94X2l0ZW1cIilbMF0gfHxcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInBsYW5EZXRhaWxfdG9vbEJveF9pdGVtXCIpWzBdO1xuICAgICAgYnV0dG9uLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYnV0dG9uXCIpWzBdLmNsaWNrKCk7XG4gICAgfVxuICB9KTtcbiAgY29uc29sZS5sb2coXCLwn5SUYmFlbGlzaDogQ1RMK3Pnu5HlrprmiJDlip9cIik7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNoZWNrX21ldGFfdGFncygpIHtcbiAgLy/mo4DmtYttZXRh5qCH562+XG4gIGxldCB0aXRsZSA9IHdpbmRvdy5kb2N1bWVudC50aXRsZTtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFwiQXJ0aWNsZVRpdGxlXCIpLmxlbmd0aCkge1xuICAgIGNvbnNvbGUubG9nKCcuLy8qW0BuYW1lPVwiQXJ0aWNsZVRpdGxlXCJdL0Bjb250ZW50Jyk7XG4gICAgd2luZG93LmRvY3VtZW50LnRpdGxlID0gXCLinaTvuI9cIiArIHdpbmRvdy5kb2N1bWVudC50aXRsZTtcbiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAod2luZG93LmRvY3VtZW50LnRpdGxlLnN0YXJ0c1dpdGgoXCLinaTvuI9cIikpIHtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LnRpdGxlID0gXCLwn4eo8J+Hs1wiICsgdGl0bGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQudGl0bGUgPSBcIuKdpO+4j1wiICsgdGl0bGU7XG4gICAgICB9XG4gICAgfSwgNjAwKTtcbiAgfVxuICBpZiAoXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoXCJQdWJEYXRlXCIpLmxlbmd0aCB8fFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFwicHViZGF0ZVwiKS5sZW5ndGhcbiAgKSB7XG4gICAgY29uc29sZS5sb2coXG4gICAgICAnLi8vKlt0cmFuc2xhdGUoQG5hbWUsIFwiUFVCREFURVwiLCBcInB1YmRhdGVcIik9XCJwdWJkYXRlXCJdL0Bjb250ZW50J1xuICAgICk7XG4gIH1cbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFwiQ29sdW1uTmFtZVwiKS5sZW5ndGgpIHtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgICcuLy8qW3RyYW5zbGF0ZShAbmFtZSwgXCJDT0xVTU5OQU1FXCIsIFwiY29sdW1ubmFtZVwiKT1cImNvbHVtbm5hbWVcIl0vQGNvbnRlbnQnXG4gICAgKTtcbiAgfVxuICBpZiAoXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoXCJDb250ZW50U291cmNlXCIpLmxlbmd0aCB8fFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFwiY29udGVudFNvdXJjZVwiKS5sZW5ndGhcbiAgKSB7XG4gICAgY29uc29sZS5sb2coXG4gICAgICAnLi8vKlt0cmFuc2xhdGUoQG5hbWUsIFwiQ09OVEVOVFNPVVJDRVwiLCBcImNvbnRlbnRzb3VyY2VcIik9XCJjb250ZW50c291cmNlXCJdL0Bjb250ZW50J1xuICAgICk7XG4gIH1cbiAgaWYgKFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFwiQXV0aG9yXCIpLmxlbmd0aCB8fFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFwiYXV0aG9yXCIpLmxlbmd0aFxuICAgICkge1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgJy4vLypbdHJhbnNsYXRlKEBuYW1lLCBcIkFVVEhPUlwiLCBcImF1dGhvclwiKT1cImF1dGhvclwiXS9AY29udGVudCdcbiAgICApO1xuICB9XG4gIGlmIChcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcIktleXdvcmRzXCIpLmxlbmd0aCB8fFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFwia2V5d29yZHNcIikubGVuZ3RoXG4gICAgKSB7XG4gICAgY29uc29sZS5sb2coXG4gICAgICAnLi8vKlt0cmFuc2xhdGUoQG5hbWUsIFwiS0VZV09SRFNcIiwgXCJrZXl3b3Jkc1wiKT1cImtleXdvcmRzXCJdL0Bjb250ZW50J1xuICAgICk7XG4gIH1cbiAgLy8gV29yZHByZXNz56uZ54K55Y+R5biD5pel5pyfbWV0Yeagh+etvuajgOa1i1xuICBsZXQgbWV0YV9wdWJkYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbWV0YVtjb250ZW50Xj1cIjIwMlwiXScpO1xuICBpZiAobWV0YV9wdWJkYXRlLmxlbmd0aCA+IDApIHtcbiAgICBtZXRhX3B1YmRhdGUuZm9yRWFjaChmdW5jdGlvbiAoZWFjaCwgaSkge1xuICAgICAgaSArPSAxO1xuICAgICAgY29uc29sZS5sb2coXCLluKbmnInml7bpl7TmoLzlvI/nmoRtZXRh5qCH562+XCIgKyBpICArIFwiOlwiLCBlYWNoKTtcbiAgICAgIGlmIChlYWNoLnByb3BlcnR5ICYmIGVhY2gucHJvcGVydHkuc3RhcnRzV2l0aChcImFydGljbGU6XCIpKSB7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC50aXRsZSA9IFwi8J+SmlwiICsgd2luZG93LmRvY3VtZW50LnRpdGxlO1xuICAgICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKHdpbmRvdy5kb2N1bWVudC50aXRsZS5zdGFydHNXaXRoKFwi8J+SmlwiKSkge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnRpdGxlID0gXCLwn4e68J+HuFwiICsgdGl0bGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC50aXRsZSA9IFwi8J+SmlwiICsgdGl0bGU7XG4gICAgICAgICAgfVxuICAgICAgICB9LCA2MDApO1xuICAgICAgICBjb25zb2xlLmxvZygnLi8vKltjb250YWlucyhAcHJvcGVydHksIFwiYXJ0aWNsZTpwdWJsaXNoZWRcIildL0Bjb250ZW50Jyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gYXV0b19yZWZlc2goKSB7XG4gIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgcmVmcmVzaF9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaXMtY2lyY2xlXCIpWzBdO1xuICAgIGNvbnNvbGUubG9nKFwi8J+UlGF1dG9fcmVmZXNoOiDliLfmlrDmjInpkq4xXCIsIHJlZnJlc2hfYnV0dG9uKTtcbiAgICBpZiAoIXJlZnJlc2hfYnV0dG9uKXtyZXR1cm59XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJhdXRvX3JlZnJlc2hfYnV0dG9uXCIpLmxlbmd0aCA+IDApe3JldHVybn1cbiAgICBjb25zb2xlLmxvZyhcIvCflJRhdXRvX3JlZmVzaDog5Yi35paw5oyJ6ZKuMlwiLCByZWZyZXNoX2J1dHRvbik7XG5cbiAgICB2YXIgYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIilcbiAgICBiLnRleHRDb250ZW50ID0gXCLoh6rliqjliLfmlrBcIlxuICAgIGIuY2xhc3NMaXN0LmFkZChcImF1dG9fcmVmcmVzaF9idXR0b25cIilcbiAgICBiLmNsYXNzTGlzdC5hZGQoXCJlbC1idXR0b25cIilcbiAgICBiLmNsYXNzTGlzdC5hZGQoXCJlbC1idXR0b24tLXN1Y2Nlc3NcIilcbiAgICBiLmNsYXNzTGlzdC5hZGQoXCJlbC1idXR0b24tLW1pbmlcIilcblxuICAgIGIub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZWwtaWNvbi1yZWZyZXNoXCIpWzBdLmNsaWNrKClcbiAgICAgICAgfSwgMTAwMCo1KVxuICAgICAgICBiLmlkID0gdGltZXJcbiAgICAgICAgYi50ZXh0Q29udGVudCA9IFwi5YGc5q2i5Yi35pawXCJcbiAgICAgICAgYi5jbGFzc0xpc3QucmVtb3ZlKFwiZWwtYnV0dG9uLS1zdWNjZXNzXCIpXG4gICAgICAgIGIuY2xhc3NMaXN0LmFkZChcImVsLWJ1dHRvbi0td2FybmluZ1wiKVxuICAgICAgICBiLm9uY2xpY2sgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChiLmlkKVxuICAgICAgICAgICAgYi5yZW1vdmUoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmcmVzaF9idXR0b24uYWZ0ZXIoYilcblxuICB9LCAxMDAwKTtcbiAgY29uc29sZS5sb2coXCLwn5SUYmFlbGlzaDog6Ieq5Yqo5Yi35paw57uR5a6a5oiQ5YqfXCIpXG59XG5jbGFzcyBQaW5nIHtcbiAgY2hlY2soKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBwaW5nKCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgY29uc3QgaGVhZHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJoZWFkXCIpKTtcbiAgICAgICAgaGVhZHMuZm9yRWFjaCgoaGVhZCkgPT4ge1xuICAgICAgICAgIGhlYWQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJncmF5XCI7XG4gICAgICAgICAgd2luZG93LmRvY3VtZW50LnRpdGxlID0gXCLwn5Sl5ZCO5Y+w5pyN5Yqh5byC5bi48J+UpVwiO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5jaGVjaygpO1xuICAgIH0sIGludGVydmFsKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBtYWluKCkge1xuICBpZiAobG9jYXRpb24uaG9zdG5hbWUuc3RhcnRzV2l0aChcImNvbmZsdWVuY2VcIikpIHtcbiAgICBhd2FpdCBzaG93KCk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHdpbmRvdy5kb2N1bWVudC5sb2NhdGlvbi5ocmVmLmVuZHNXaXRoKFwiIy9ob21lL2NyYXdsXCIpKSB7XG4gICAgICBhd2FpdCBpbml0KCk7XG4gICAgICBhd2FpdCBjbG9zZSgpO1xuICAgICAgYXdhaXQgc2F2ZSgpO1xuICAgICAgbGV0IGFwcCA9IG5ldyBQaW5nKCk7XG4gICAgICBhcHAuY2hlY2soKTtcbiAgICAgIGF3YWl0IGF1dG9fcmVmZXNoKCkuY2F0Y2goKGUpID0+IGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCByb2JvdHMoKS5jYXRjaCgoZSkgPT4gYPCflJTmnKrlj5HnjrDnvZHnq5nmnIlyb2JvdHMudHh05paH5Lu2YCk7XG4gICAgICBhd2FpdCBzaXRlbWFwKCkuY2F0Y2goKGUpID0+IGDwn5SU5pyq5Y+R546w572R56uZ5pyJc2l0ZW1hcC54bWzmlofku7ZgKTtcbiAgICAgIGF3YWl0IGNoZWNrX21ldGFfdGFncygpLmNhdGNoKChlKSA9PiBlKTtcbiAgICB9XG4gIH1cbn1cblxubWFpbigpLmNhdGNoKChlKSA9PiB7XG4gIGNvbnNvbGUubG9nKGUpO1xufSk7XG4iXSwibmFtZXMiOlsiZ2V0IiwidmVyc2lvbiIsInJlcXVpcmUiLCJpbnRlcnZhbCIsImluaXQiLCJjb25zb2xlIiwibG9nIiwicm9ib3RzIiwiX3RpdGxlIiwid2luZG93IiwiZG9jdW1lbnQiLCJ0aXRsZSIsInJlcyIsInN0YXR1cyIsInJlcXVlc3QiLCJyZXNwb25zZVVSTCIsInNpdGVtYXAiLCJzaG93IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInN0eWxlIiwid2lkdGgiLCJwaW5nIiwiaGVhZHMiLCJBcnJheSIsImZyb20iLCJmb3JFYWNoIiwiaGVhZCIsImJhY2tncm91bmRDb2xvciIsImNsb3NlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJrZXlDb2RlIiwicG9wdXBzIiwiaSIsImxlbmd0aCIsImRpc3BsYXkiLCJpY29uX2Nsb3NlIiwiY2xpY2siLCJzYXZlIiwiY3RybEtleSIsImtleSIsInByZXZlbnREZWZhdWx0IiwiYnV0dG9uIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJjaGVja19tZXRhX3RhZ3MiLCJnZXRFbGVtZW50c0J5TmFtZSIsInNldEludGVydmFsIiwic3RhcnRzV2l0aCIsIm1ldGFfcHViZGF0ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlYWNoIiwicHJvcGVydHkiLCJhdXRvX3JlZmVzaCIsInJlZnJlc2hfYnV0dG9uIiwiYiIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsImFkZCIsIm9uY2xpY2siLCJ0aW1lciIsImlkIiwicmVtb3ZlIiwiY2xlYXJJbnRlcnZhbCIsImFmdGVyIiwiUGluZyIsImNoZWNrIiwic2V0VGltZW91dCIsImNhdGNoIiwiZXJyb3IiLCJtYWluIiwibG9jYXRpb24iLCJob3N0bmFtZSIsImhyZWYiLCJlbmRzV2l0aCIsImFwcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"get\": () => (/* binding */ get),\n/* harmony export */   \"post\": () => (/* binding */ post)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var axios_userscript_adapter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios-userscript-adapter */ \"axios-userscript-adapter\");\n/* harmony import */ var axios_userscript_adapter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios_userscript_adapter__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction get(url, config) {\n  return axios__WEBPACK_IMPORTED_MODULE_0___default().get(url, {\n    adapter: (axios_userscript_adapter__WEBPACK_IMPORTED_MODULE_1___default()),\n    ...config\n  });\n}\nfunction post(url, data, config) {\n  return axios__WEBPACK_IMPORTED_MODULE_0___default().post(url, data, {\n    adapter: (axios_userscript_adapter__WEBPACK_IMPORTED_MODULE_1___default()),\n    ...config\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVPLFNBQVNFLEdBQVQsQ0FBNkNDLEdBQTdDLEVBQTBEQyxNQUExRCxFQUFnSTtFQUNySSxPQUFPSixnREFBQSxDQUFVRyxHQUFWLEVBQWU7SUFDcEJGLE9BRG9CO0lBRXBCLEdBQUdHO0VBRmlCLENBQWYsQ0FBUDtBQUlEO0FBRU0sU0FBU0MsSUFBVCxDQUE4Q0YsR0FBOUMsRUFBMkRHLElBQTNELEVBQXVFRixNQUF2RSxFQUE2STtFQUNsSixPQUFPSixpREFBQSxDQUFXRyxHQUFYLEVBQWdCRyxJQUFoQixFQUFzQjtJQUMzQkwsT0FEMkI7SUFFM0IsR0FBR0c7RUFGd0IsQ0FBdEIsQ0FBUDtBQUlEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VicGFjay11c2Vyc2NyaXB0LXRlbXBsYXRlLy4vc3JjL3V0aWxzLnRzPzdkZGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zLCB7IEF4aW9zUmVxdWVzdENvbmZpZywgQXhpb3NSZXNwb25zZSB9IGZyb20gJ2F4aW9zJ1xuaW1wb3J0IGFkYXB0ZXIgZnJvbSAnYXhpb3MtdXNlcnNjcmlwdC1hZGFwdGVyJ1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0PFQgPSBhbnksIFIgPSBBeGlvc1Jlc3BvbnNlPFQ+PiAodXJsOiBzdHJpbmcsIGNvbmZpZz86IEV4Y2x1ZGU8UGFydGlhbDxBeGlvc1JlcXVlc3RDb25maWc+LCAnYWRhcHRlcic+KTogUHJvbWlzZTxSPiB7XG4gIHJldHVybiBheGlvcy5nZXQodXJsLCB7XG4gICAgYWRhcHRlcixcbiAgICAuLi5jb25maWdcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvc3Q8VCA9IGFueSwgUiA9IEF4aW9zUmVzcG9uc2U8VD4+ICh1cmw6IHN0cmluZywgZGF0YT86IGFueSwgY29uZmlnPzogRXhjbHVkZTxQYXJ0aWFsPEF4aW9zUmVxdWVzdENvbmZpZz4sICdhZGFwdGVyJz4pOiBQcm9taXNlPFI+IHtcbiAgcmV0dXJuIGF4aW9zLnBvc3QodXJsLCBkYXRhLCB7XG4gICAgYWRhcHRlcixcbiAgICAuLi5jb25maWdcbiAgfSlcbn1cbiJdLCJuYW1lcyI6WyJheGlvcyIsImFkYXB0ZXIiLCJnZXQiLCJ1cmwiLCJjb25maWciLCJwb3N0IiwiZGF0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils.ts\n");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = axios;

/***/ }),

/***/ "axios-userscript-adapter":
/*!************************************!*\
  !*** external "axiosGmxhrAdapter" ***!
  \************************************/
/***/ ((module) => {

module.exports = axiosGmxhrAdapter;

/***/ }),

/***/ "./package.json":
/*!**********************!*\
  !*** ./package.json ***!
  \**********************/
/***/ ((module) => {

module.exports = JSON.parse('{"name":"CrawlTool","description":"æ³›é‡‡ç³»ç»Ÿä¸“ä¸šç‰ˆæ’ä»¶","version":"0.0.5","author":{"name":"fangtiansheng","email":"fangtiansheng@gmail.com"},"scripts":{"postversion":"git push --follow-tags","analize":"npm_config_report=true npm run build","build":"webpack --mode production --config config/webpack.config.production.cjs","dev":"webpack --mode development --config config/webpack.config.dev.cjs"},"repository":{"type":"git","url":"https://github.com/Trim21/webpack-userscript-template"},"private":true,"dependencies":{"@trim21/gm-fetch":"^0.0.3","axios":"^0.27.2","axios-userscript-adapter":"^0.2.0","jquery":"^3.6.0"},"devDependencies":{"@babel/core":"^7.18.5","@babel/preset-env":"^7.18.2","@babel/preset-typescript":"^7.17.12","@types/greasemonkey":"^4.0.3","@types/jquery":"^3.5.14","babel-loader":"^8.2.5","browserslist":"^4.20.4","css-loader":"^6.7.1","less":"^4.1.3","less-loader":"^11.0.0","style-loader":"^3.3.1","typescript":"^4.7.4","userscript-metadata-webpack-plugin":"^0.1.1","webpack":"^5.73.0","webpack-bundle-analyzer":"^4.5.0","webpack-cli":"^4.10.0","webpack-livereload-plugin":"^3.0.2","webpack-merge":"^5.8.0"}}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	
/******/ })()
;
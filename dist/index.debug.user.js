// ==UserScript==
// @name        CrawlerTools
// @namespace   *.*
// @version     0.0.5
// @author      fangtiansheng <fangtiansheng@gmail.com>
// @source      https://github.com/Trim21/webpack-userscript-template
// @icon        https://www.valuesimplex.com/images/favicon.ico
// @license     MIT
// @match       *://*/*
// @connect     *
// @require     https://cdn.jsdelivr.net/npm/jquery@^3.6.0/dist/jquery.min.js
// @require     https://cdn.jsdelivr.net/npm/axios@^0.27.2/dist/axios.min.js
// @require     https://cdn.jsdelivr.net/npm/axios-userscript-adapter@^0.2.0/dist/axiosGmxhrAdapter.min.js
// @require     file:///Users/fangtiansheng/Documents/GitHub/baelish/dist/index.debug.user.js
// @grant       GM.xmlHttpRequest
// @grant       GM.registerMenuCommand
// @grant       GM.unregisterMenuCommand
// @run-at      document-end
// ==/UserScript==


/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\n\n\nconst {\n  version\n} = __webpack_require__(/*! ../package.json */ \"./package.json\");\n\nconst interval = 1000 * 20;\nconst GMMenus = [{\n  name: 'é…ç½®é¡¹',\n  fn: log,\n  accessKey: 'o'\n}];\n\nasync function log() {\n  alert(\"é…ç½®é¡¹\");\n}\n\nasync function init() {\n  console.log(`%c æ³›é‡‡ç³»ç»Ÿä¸“ä¸šç‰ˆæ’ä»¶ %c v${version} %c`, \"background:#5D5D5D ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff\", \"background:#0D7FBF ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff\", \"background:transparent\");\n}\n\nasync function robots() {\n  const _title = window.document.title;\n  const res = await (0,_utils__WEBPACK_IMPORTED_MODULE_0__.get)(\"/robots.txt\", {});\n\n  if (res.status === 200) {\n    console.log(`ðŸ””å‘çŽ°ç½‘ç«™æœ‰robots.txtæ–‡ä»¶: ${res.request.responseURL}`);\n    window.document.title = \"ðŸ¤–\" + _title;\n  }\n}\n\nasync function sitemap() {\n  const res = await (0,_utils__WEBPACK_IMPORTED_MODULE_0__.get)(\"/sitemap.xml\", {});\n\n  if (res.status === 200) {\n    console.log(`ðŸ””å‘çŽ°ç½‘ç«™æœ‰sitemap.xmlæ–‡ä»¶: ${res.request.responseURL}`);\n    window.document.title = \"ðŸŒŽ\" + window.document.title;\n  }\n}\n\nasync function show() {\n  // confluenceä¸€ç›´æ˜¾ç¤ºåˆ›å»ºé¡µé¢æŒ‰é’®\n  console.log(\"ðŸ””confluence: æ˜¾ç¤ºåˆ›å»ºé¡µé¢æŒ‰é’®\");\n  document.getElementsByClassName(\"aui-header-primary\")[0].getElementsByClassName(\"aui-nav\")[0].style.width = \"auto\";\n}\n\nasync function ping() {\n  const res = await (0,_utils__WEBPACK_IMPORTED_MODULE_0__.get)(\"/crawl/crawl/get-user-list\", {});\n\n  if (res.status === 200) {\n    const heads = Array.from(document.getElementsByClassName(\"head\"));\n    heads.forEach(head => {\n      head.style.backgroundColor = \"\";\n      window.document.title = \"çˆ¬è™«ç®¡ç†ç³»ç»Ÿ\";\n    });\n  }\n}\n\nasync function close() {\n  // ESCå…³é—­ç½®é¡¶å¼¹å‡ºçª—\n  window.addEventListener(\"keydown\", function (e) {\n    if (e.keyCode === 27) {\n      console.log(\"esc æŒ‰äº†\"); //å…¨éƒ¨å¼¹çª—\n\n      var popups = document.getElementsByClassName(\"popup_hover\");\n\n      for (let i = popups.length; i--;) {\n        //éåŽ†å…¨éƒ¨å¼¹çª—\n        if (popups[i].style.display === \"\") {\n          //æŸ¥æ‰¾å¼¹å‡ºçš„çª—å£\n          let icon_close = popups[i].getElementsByClassName(\"popup_head_close_icon\");\n          icon_close[0].click();\n          break;\n        }\n      }\n    }\n  });\n  console.log(\"ðŸ””baelish: ESCç»‘å®šæˆåŠŸ\");\n}\n\nasync function save() {\n  //ä¿å­˜\n  window.addEventListener(\"keydown\", e => {\n    if (e.ctrlKey && e.key === \"s\") {\n      // Prevent the Save dialog to open\n      e.preventDefault(); // Place your code here\n\n      var button = document.getElementsByClassName(\"pageDetail_toolBox_item\")[0] || document.getElementsByClassName(\"planDetail_toolBox_item\")[0];\n      button.getElementsByTagName(\"button\")[0].click();\n    }\n  });\n  console.log(\"ðŸ””baelish: CTL+sç»‘å®šæˆåŠŸ\");\n}\n\nasync function check_meta_tags() {\n  //æ£€æµ‹metaæ ‡ç­¾\n  let title = window.document.title;\n\n  if (document.getElementsByName(\"ArticleTitle\").length) {\n    console.log('.//*[@name=\"ArticleTitle\"]/@content');\n    window.document.title = \"â¤ï¸\" + window.document.title;\n    setInterval(function () {\n      if (window.document.title.startsWith(\"â¤ï¸\")) {\n        window.document.title = \"ðŸ‡¨ðŸ‡³\" + title;\n      } else {\n        window.document.title = \"â¤ï¸\" + title;\n      }\n    }, 600);\n  }\n\n  if (document.getElementsByName(\"PubDate\").length || document.getElementsByName(\"pubdate\").length) {\n    console.log('.//*[translate(@name, \"PUBDATE\", \"pubdate\")=\"pubdate\"]/@content');\n  }\n\n  if (document.getElementsByName(\"ColumnName\").length) {\n    console.log('.//*[translate(@name, \"COLUMNNAME\", \"columnname\")=\"columnname\"]/@content');\n  }\n\n  if (document.getElementsByName(\"ContentSource\").length || document.getElementsByName(\"contentSource\").length) {\n    console.log('.//*[translate(@name, \"CONTENTSOURCE\", \"contentsource\")=\"contentsource\"]/@content');\n  }\n\n  if (document.getElementsByName(\"Author\").length || document.getElementsByName(\"author\").length) {\n    console.log('.//*[translate(@name, \"AUTHOR\", \"author\")=\"author\"]/@content');\n  }\n\n  if (document.getElementsByName(\"Keywords\").length || document.getElementsByName(\"keywords\").length) {\n    console.log('.//*[translate(@name, \"KEYWORDS\", \"keywords\")=\"keywords\"]/@content');\n  } // Wordpressç«™ç‚¹å‘å¸ƒæ—¥æœŸmetaæ ‡ç­¾æ£€æµ‹\n\n\n  let meta_pubdate = document.querySelectorAll('meta[content^=\"202\"]');\n\n  if (meta_pubdate.length > 0) {\n    meta_pubdate.forEach(function (each, i) {\n      i += 1;\n      console.log(\"å¸¦æœ‰æ—¶é—´æ ¼å¼çš„metaæ ‡ç­¾\" + i + \":\", each);\n\n      if (each.property && each.property.startsWith(\"article:\")) {\n        window.document.title = \"ðŸ’š\" + window.document.title;\n        setInterval(function () {\n          if (window.document.title.startsWith(\"ðŸ’š\")) {\n            window.document.title = \"ðŸ‡ºðŸ‡¸\" + title;\n          } else {\n            window.document.title = \"ðŸ’š\" + title;\n          }\n        }, 600);\n        console.log('.//*[contains(@property, \"article:published\")]/@content');\n      }\n    });\n  }\n}\n\nasync function auto_refesh() {\n  setInterval(function () {\n    let refresh_button = document.getElementsByClassName(\"is-circle\")[0];\n\n    if (!refresh_button) {\n      return;\n    }\n\n    console.log(\"ðŸ””auto_refesh: åˆ·æ–°æŒ‰é’®1\", refresh_button);\n\n    if (document.getElementsByClassName(\"auto_refresh_button\").length > 0) {\n      return;\n    }\n\n    console.log(\"ðŸ””auto_refesh: åˆ·æ–°æŒ‰é’®2\", refresh_button);\n    var b = document.createElement(\"button\");\n    b.textContent = \"è‡ªåŠ¨\";\n    b.classList.add(\"auto_refresh_button\");\n    b.classList.add(\"el-button\");\n    b.classList.add(\"el-button--success\");\n    b.classList.add(\"el-button--mini\");\n\n    b.onclick = function () {\n      var timer = setInterval(function () {\n        document.getElementsByClassName(\"el-icon-refresh\")[0].click();\n      }, 1000 * 5);\n      b.id = timer;\n      b.textContent = \"åœæ­¢\";\n      b.classList.remove(\"el-button--success\");\n      b.classList.add(\"el-button--warning\");\n\n      b.onclick = function () {\n        clearInterval(b.id);\n        b.remove();\n      };\n    };\n\n    refresh_button.after(b);\n  }, 1000);\n  console.log(\"ðŸ””baelish: è‡ªåŠ¨åˆ·æ–°ç»‘å®šæˆåŠŸ\");\n}\n\nclass Ping {\n  check() {\n    setTimeout(() => {\n      ping().catch(e => {\n        const heads = Array.from(document.getElementsByClassName(\"head\"));\n        heads.forEach(head => {\n          head.style.backgroundColor = \"gray\";\n          window.document.title = \"ðŸ”¥åŽå°æœåŠ¡å¼‚å¸¸ðŸ”¥\";\n        });\n        console.error(e);\n      });\n      this.check();\n    }, interval);\n  }\n\n}\n\nasync function main() {\n  GMMenus.forEach(m => {\n    GM.registerMenuCommand(m.name, m.fn, m.accessKey);\n  });\n\n  if (location.hostname.startsWith(\"confluence\")) {\n    await show();\n  } else {\n    if (window.document.location.href.endsWith(\"#/home/crawl\")) {\n      await init();\n      await close();\n      await save();\n      let app = new Ping();\n      app.check();\n      await auto_refesh().catch(e => e);\n    } else {\n      await robots().catch(e => `ðŸ””æœªå‘çŽ°ç½‘ç«™æœ‰robots.txtæ–‡ä»¶`);\n      await sitemap().catch(e => `ðŸ””æœªå‘çŽ°ç½‘ç«™æœ‰sitemap.xmlæ–‡ä»¶`);\n      await check_meta_tags().catch(e => e);\n    }\n  }\n}\n\nmain().catch(e => {\n  console.log(e);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RkQ7O0VBR0EsSUFBSXVFLFFBQVEsQ0FBQ0MsUUFBVCxDQUFrQjVCLFVBQWxCLENBQTZCLFlBQTdCLENBQUosRUFBZ0Q7SUFDOUMsTUFBTTlCLElBQUksRUFBVjtFQUNELENBRkQsTUFFTztJQUNMLElBQUlSLE1BQU0sQ0FBQ0MsUUFBUCxDQUFnQmdFLFFBQWhCLENBQXlCRSxJQUF6QixDQUE4QkMsUUFBOUIsQ0FBdUMsY0FBdkMsQ0FBSixFQUE0RDtNQUMxRCxNQUFNeEUsSUFBSSxFQUFWO01BQ0EsTUFBTXVCLEtBQUssRUFBWDtNQUNBLE1BQU1VLElBQUksRUFBVjtNQUNBLElBQUl3QyxHQUFHLEdBQUcsSUFBSWIsSUFBSixFQUFWO01BQ0FhLEdBQUcsQ0FBQ1osS0FBSjtNQUNBLE1BQU1kLFdBQVcsR0FBR2dCLEtBQWQsQ0FBcUJ0QyxDQUFELElBQU9BLENBQTNCLENBQU47SUFDRCxDQVBELE1BT087TUFDTCxNQUFNdkIsTUFBTSxHQUFHNkQsS0FBVCxDQUFnQnRDLENBQUQsSUFBUSxzQkFBdkIsQ0FBTjtNQUNBLE1BQU1kLE9BQU8sR0FBR29ELEtBQVYsQ0FBaUJ0QyxDQUFELElBQVEsdUJBQXhCLENBQU47TUFDQSxNQUFNYyxlQUFlLEdBQUd3QixLQUFsQixDQUF5QnRDLENBQUQsSUFBT0EsQ0FBL0IsQ0FBTjtJQUNEO0VBQ0Y7QUFDRjs7QUFFRHdDLElBQUksR0FBR0YsS0FBUCxDQUFjdEMsQ0FBRCxJQUFPO0VBQ2xCeEIsT0FBTyxDQUFDSixHQUFSLENBQVk0QixDQUFaO0FBQ0QsQ0FGRCIsInNvdXJjZXMiOlsid2VicGFjazovL0NyYXdsVG9vbC8uL3NyYy9pbmRleC50cz9mZmI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldCB9IGZyb20gXCIuL3V0aWxzXCI7XG5jb25zdCB7IHZlcnNpb24gfSA9IHJlcXVpcmUoXCIuLi9wYWNrYWdlLmpzb25cIik7XG5cbmNvbnN0IGludGVydmFsID0gMTAwMCAqIDIwO1xuY29uc3QgR01NZW51cyA9IFtcbiAge1xuICAgIG5hbWU6ICfphY3nva7pobknLFxuICAgIGZuOiBsb2csXG4gICAgYWNjZXNzS2V5OiAnbydcbiAgfVxuXTtcbmFzeW5jIGZ1bmN0aW9uIGxvZygpIHtcbiAgYWxlcnQoXCLphY3nva7poblcIilcbn1cbmFzeW5jIGZ1bmN0aW9uIGluaXQoKSB7XG4gIGNvbnNvbGUubG9nKFxuICAgIGAlYyDms5vph4fns7vnu5/kuJPkuJrniYjmj5Lku7YgJWMgdiR7dmVyc2lvbn0gJWNgLFxuICAgIFwiYmFja2dyb3VuZDojNUQ1RDVEIDsgcGFkZGluZzogMXB4OyBib3JkZXItcmFkaXVzOiAzcHggMCAwIDNweDsgIGNvbG9yOiAjZmZmXCIsXG4gICAgXCJiYWNrZ3JvdW5kOiMwRDdGQkYgOyBwYWRkaW5nOiAxcHg7IGJvcmRlci1yYWRpdXM6IDAgM3B4IDNweCAwOyAgY29sb3I6ICNmZmZcIixcbiAgICBcImJhY2tncm91bmQ6dHJhbnNwYXJlbnRcIlxuICApO1xufVxuXG5hc3luYyBmdW5jdGlvbiByb2JvdHMoKSB7XG4gIGNvbnN0IF90aXRsZSA9IHdpbmRvdy5kb2N1bWVudC50aXRsZTtcbiAgY29uc3QgcmVzID0gYXdhaXQgZ2V0PHsgcm9ib3RzOiBzdHJpbmcgfT4oXCIvcm9ib3RzLnR4dFwiLCB7fSk7XG4gIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHtcbiAgICBjb25zb2xlLmxvZyhg8J+UlOWPkeeOsOe9keermeaciXJvYm90cy50eHTmlofku7Y6ICR7cmVzLnJlcXVlc3QucmVzcG9uc2VVUkx9YCk7XG4gICAgd2luZG93LmRvY3VtZW50LnRpdGxlID0gXCLwn6SWXCIgKyBfdGl0bGU7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gc2l0ZW1hcCgpIHtcbiAgY29uc3QgcmVzID0gYXdhaXQgZ2V0PHsgc2l0ZW1hcDogc3RyaW5nIH0+KFwiL3NpdGVtYXAueG1sXCIsIHt9KTtcbiAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkge1xuICAgIGNvbnNvbGUubG9nKGDwn5SU5Y+R546w572R56uZ5pyJc2l0ZW1hcC54bWzmlofku7Y6ICR7cmVzLnJlcXVlc3QucmVzcG9uc2VVUkx9YCk7XG4gICAgd2luZG93LmRvY3VtZW50LnRpdGxlID0gXCLwn4yOXCIgKyB3aW5kb3cuZG9jdW1lbnQudGl0bGU7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gc2hvdygpIHtcbiAgLy8gY29uZmx1ZW5jZeS4gOebtOaYvuekuuWIm+W7uumhtemdouaMiemSrlxuICBjb25zb2xlLmxvZyhcIvCflJRjb25mbHVlbmNlOiDmmL7npLrliJvlu7rpobXpnaLmjInpkq5cIik7XG4gIGRvY3VtZW50XG4gICAgLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJhdWktaGVhZGVyLXByaW1hcnlcIilbMF1cbiAgICAuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImF1aS1uYXZcIilbMF0uc3R5bGUud2lkdGggPSBcImF1dG9cIjtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcGluZygpIHtcbiAgY29uc3QgcmVzID0gYXdhaXQgZ2V0PHsgcGluZzogc3RyaW5nIH0+KFwiL2NyYXdsL2NyYXdsL2dldC11c2VyLWxpc3RcIiwge30pO1xuICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgY29uc3QgaGVhZHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJoZWFkXCIpKTtcbiAgICBoZWFkcy5mb3JFYWNoKChoZWFkKSA9PiB7XG4gICAgICBoZWFkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiXCI7XG4gICAgICB3aW5kb3cuZG9jdW1lbnQudGl0bGUgPSBcIueIrOiZq+euoeeQhuezu+e7n1wiO1xuICAgIH0pO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNsb3NlKCkge1xuICAvLyBFU0PlhbPpl63nva7pobblvLnlh7rnqpdcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUua2V5Q29kZSA9PT0gMjcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiZXNjIOaMieS6hlwiKTtcbiAgICAgIC8v5YWo6YOo5by556qXXG4gICAgICB2YXIgcG9wdXBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInBvcHVwX2hvdmVyXCIpO1xuICAgICAgZm9yIChsZXQgaSA9IHBvcHVwcy5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgIC8v6YGN5Y6G5YWo6YOo5by556qXXG4gICAgICAgIGlmIChwb3B1cHNbaV0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIikge1xuICAgICAgICAgIC8v5p+l5om+5by55Ye655qE56qX5Y+jXG4gICAgICAgICAgbGV0IGljb25fY2xvc2UgPSBwb3B1cHNbaV0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcbiAgICAgICAgICAgIFwicG9wdXBfaGVhZF9jbG9zZV9pY29uXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGljb25fY2xvc2VbMF0uY2xpY2soKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIGNvbnNvbGUubG9nKFwi8J+UlGJhZWxpc2g6IEVTQ+e7keWumuaIkOWKn1wiKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc2F2ZSgpIHtcbiAgLy/kv53lrZhcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgaWYgKGUuY3RybEtleSAmJiBlLmtleSA9PT0gXCJzXCIpIHtcbiAgICAgIC8vIFByZXZlbnQgdGhlIFNhdmUgZGlhbG9nIHRvIG9wZW5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIC8vIFBsYWNlIHlvdXIgY29kZSBoZXJlXG4gICAgICB2YXIgYnV0dG9uID1cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInBhZ2VEZXRhaWxfdG9vbEJveF9pdGVtXCIpWzBdIHx8XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJwbGFuRGV0YWlsX3Rvb2xCb3hfaXRlbVwiKVswXTtcbiAgICAgIGJ1dHRvbi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJ1dHRvblwiKVswXS5jbGljaygpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnNvbGUubG9nKFwi8J+UlGJhZWxpc2g6IENUTCtz57uR5a6a5oiQ5YqfXCIpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBjaGVja19tZXRhX3RhZ3MoKSB7XG4gIC8v5qOA5rWLbWV0Yeagh+etvlxuICBsZXQgdGl0bGUgPSB3aW5kb3cuZG9jdW1lbnQudGl0bGU7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcIkFydGljbGVUaXRsZVwiKS5sZW5ndGgpIHtcbiAgICBjb25zb2xlLmxvZygnLi8vKltAbmFtZT1cIkFydGljbGVUaXRsZVwiXS9AY29udGVudCcpO1xuICAgIHdpbmRvdy5kb2N1bWVudC50aXRsZSA9IFwi4p2k77iPXCIgKyB3aW5kb3cuZG9jdW1lbnQudGl0bGU7XG4gICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHdpbmRvdy5kb2N1bWVudC50aXRsZS5zdGFydHNXaXRoKFwi4p2k77iPXCIpKSB7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC50aXRsZSA9IFwi8J+HqPCfh7NcIiArIHRpdGxlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LnRpdGxlID0gXCLinaTvuI9cIiArIHRpdGxlO1xuICAgICAgfVxuICAgIH0sIDYwMCk7XG4gIH1cbiAgaWYgKFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFwiUHViRGF0ZVwiKS5sZW5ndGggfHxcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcInB1YmRhdGVcIikubGVuZ3RoXG4gICkge1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgJy4vLypbdHJhbnNsYXRlKEBuYW1lLCBcIlBVQkRBVEVcIiwgXCJwdWJkYXRlXCIpPVwicHViZGF0ZVwiXS9AY29udGVudCdcbiAgICApO1xuICB9XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcIkNvbHVtbk5hbWVcIikubGVuZ3RoKSB7XG4gICAgY29uc29sZS5sb2coXG4gICAgICAnLi8vKlt0cmFuc2xhdGUoQG5hbWUsIFwiQ09MVU1OTkFNRVwiLCBcImNvbHVtbm5hbWVcIik9XCJjb2x1bW5uYW1lXCJdL0Bjb250ZW50J1xuICAgICk7XG4gIH1cbiAgaWYgKFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFwiQ29udGVudFNvdXJjZVwiKS5sZW5ndGggfHxcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcImNvbnRlbnRTb3VyY2VcIikubGVuZ3RoXG4gICkge1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgJy4vLypbdHJhbnNsYXRlKEBuYW1lLCBcIkNPTlRFTlRTT1VSQ0VcIiwgXCJjb250ZW50c291cmNlXCIpPVwiY29udGVudHNvdXJjZVwiXS9AY29udGVudCdcbiAgICApO1xuICB9XG4gIGlmIChcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcIkF1dGhvclwiKS5sZW5ndGggfHxcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcImF1dGhvclwiKS5sZW5ndGhcbiAgICApIHtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgICcuLy8qW3RyYW5zbGF0ZShAbmFtZSwgXCJBVVRIT1JcIiwgXCJhdXRob3JcIik9XCJhdXRob3JcIl0vQGNvbnRlbnQnXG4gICAgKTtcbiAgfVxuICBpZiAoXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoXCJLZXl3b3Jkc1wiKS5sZW5ndGggfHxcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcImtleXdvcmRzXCIpLmxlbmd0aFxuICAgICkge1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgJy4vLypbdHJhbnNsYXRlKEBuYW1lLCBcIktFWVdPUkRTXCIsIFwia2V5d29yZHNcIik9XCJrZXl3b3Jkc1wiXS9AY29udGVudCdcbiAgICApO1xuICB9XG4gIC8vIFdvcmRwcmVzc+ermeeCueWPkeW4g+aXpeacn21ldGHmoIfnrb7mo4DmtYtcbiAgbGV0IG1ldGFfcHViZGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ21ldGFbY29udGVudF49XCIyMDJcIl0nKTtcbiAgaWYgKG1ldGFfcHViZGF0ZS5sZW5ndGggPiAwKSB7XG4gICAgbWV0YV9wdWJkYXRlLmZvckVhY2goZnVuY3Rpb24gKGVhY2gsIGkpIHtcbiAgICAgIGkgKz0gMTtcbiAgICAgIGNvbnNvbGUubG9nKFwi5bim5pyJ5pe26Ze05qC85byP55qEbWV0Yeagh+etvlwiICsgaSAgKyBcIjpcIiwgZWFjaCk7XG4gICAgICBpZiAoZWFjaC5wcm9wZXJ0eSAmJiBlYWNoLnByb3BlcnR5LnN0YXJ0c1dpdGgoXCJhcnRpY2xlOlwiKSkge1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQudGl0bGUgPSBcIvCfkppcIiArIHdpbmRvdy5kb2N1bWVudC50aXRsZTtcbiAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICh3aW5kb3cuZG9jdW1lbnQudGl0bGUuc3RhcnRzV2l0aChcIvCfkppcIikpIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC50aXRsZSA9IFwi8J+HuvCfh7hcIiArIHRpdGxlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQudGl0bGUgPSBcIvCfkppcIiArIHRpdGxlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgNjAwKTtcbiAgICAgICAgY29uc29sZS5sb2coJy4vLypbY29udGFpbnMoQHByb3BlcnR5LCBcImFydGljbGU6cHVibGlzaGVkXCIpXS9AY29udGVudCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGF1dG9fcmVmZXNoKCkge1xuICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHJlZnJlc2hfYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImlzLWNpcmNsZVwiKVswXTtcbiAgICBpZiAoIXJlZnJlc2hfYnV0dG9uKXtyZXR1cm59XG4gICAgY29uc29sZS5sb2coXCLwn5SUYXV0b19yZWZlc2g6IOWIt+aWsOaMiemSrjFcIiwgcmVmcmVzaF9idXR0b24pO1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYXV0b19yZWZyZXNoX2J1dHRvblwiKS5sZW5ndGggPiAwKXtyZXR1cm59XG4gICAgY29uc29sZS5sb2coXCLwn5SUYXV0b19yZWZlc2g6IOWIt+aWsOaMiemSrjJcIiwgcmVmcmVzaF9idXR0b24pO1xuXG4gICAgdmFyIGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpXG4gICAgYi50ZXh0Q29udGVudCA9IFwi6Ieq5YqoXCJcbiAgICBiLmNsYXNzTGlzdC5hZGQoXCJhdXRvX3JlZnJlc2hfYnV0dG9uXCIpXG4gICAgYi5jbGFzc0xpc3QuYWRkKFwiZWwtYnV0dG9uXCIpXG4gICAgYi5jbGFzc0xpc3QuYWRkKFwiZWwtYnV0dG9uLS1zdWNjZXNzXCIpXG4gICAgYi5jbGFzc0xpc3QuYWRkKFwiZWwtYnV0dG9uLS1taW5pXCIpXG5cbiAgICBiLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImVsLWljb24tcmVmcmVzaFwiKVswXS5jbGljaygpXG4gICAgICAgIH0sIDEwMDAqNSlcbiAgICAgICAgYi5pZCA9IHRpbWVyXG4gICAgICAgIGIudGV4dENvbnRlbnQgPSBcIuWBnOatolwiXG4gICAgICAgIGIuY2xhc3NMaXN0LnJlbW92ZShcImVsLWJ1dHRvbi0tc3VjY2Vzc1wiKVxuICAgICAgICBiLmNsYXNzTGlzdC5hZGQoXCJlbC1idXR0b24tLXdhcm5pbmdcIilcbiAgICAgICAgYi5vbmNsaWNrID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoYi5pZClcbiAgICAgICAgICAgIGIucmVtb3ZlKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZnJlc2hfYnV0dG9uLmFmdGVyKGIpXG5cbiAgfSwgMTAwMCk7XG4gIGNvbnNvbGUubG9nKFwi8J+UlGJhZWxpc2g6IOiHquWKqOWIt+aWsOe7keWumuaIkOWKn1wiKVxufVxuY2xhc3MgUGluZyB7XG4gIGNoZWNrKCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgcGluZygpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgIGNvbnN0IGhlYWRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaGVhZFwiKSk7XG4gICAgICAgIGhlYWRzLmZvckVhY2goKGhlYWQpID0+IHtcbiAgICAgICAgICBoZWFkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ3JheVwiO1xuICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC50aXRsZSA9IFwi8J+UpeWQjuWPsOacjeWKoeW8guW4uPCflKVcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuY2hlY2soKTtcbiAgICB9LCBpbnRlcnZhbCk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gbWFpbigpIHtcbiAgR01NZW51cy5mb3JFYWNoKG0gPT4ge1xuICAgIEdNLnJlZ2lzdGVyTWVudUNvbW1hbmQobS5uYW1lLCBtLmZuLCBtLmFjY2Vzc0tleSk7XG4gIH0pO1xuICBpZiAobG9jYXRpb24uaG9zdG5hbWUuc3RhcnRzV2l0aChcImNvbmZsdWVuY2VcIikpIHtcbiAgICBhd2FpdCBzaG93KCk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHdpbmRvdy5kb2N1bWVudC5sb2NhdGlvbi5ocmVmLmVuZHNXaXRoKFwiIy9ob21lL2NyYXdsXCIpKSB7XG4gICAgICBhd2FpdCBpbml0KCk7XG4gICAgICBhd2FpdCBjbG9zZSgpO1xuICAgICAgYXdhaXQgc2F2ZSgpO1xuICAgICAgbGV0IGFwcCA9IG5ldyBQaW5nKCk7XG4gICAgICBhcHAuY2hlY2soKTtcbiAgICAgIGF3YWl0IGF1dG9fcmVmZXNoKCkuY2F0Y2goKGUpID0+IGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCByb2JvdHMoKS5jYXRjaCgoZSkgPT4gYPCflJTmnKrlj5HnjrDnvZHnq5nmnIlyb2JvdHMudHh05paH5Lu2YCk7XG4gICAgICBhd2FpdCBzaXRlbWFwKCkuY2F0Y2goKGUpID0+IGDwn5SU5pyq5Y+R546w572R56uZ5pyJc2l0ZW1hcC54bWzmlofku7ZgKTtcbiAgICAgIGF3YWl0IGNoZWNrX21ldGFfdGFncygpLmNhdGNoKChlKSA9PiBlKTtcbiAgICB9XG4gIH1cbn1cblxubWFpbigpLmNhdGNoKChlKSA9PiB7XG4gIGNvbnNvbGUubG9nKGUpO1xufSk7XG4iXSwibmFtZXMiOlsiZ2V0IiwidmVyc2lvbiIsInJlcXVpcmUiLCJpbnRlcnZhbCIsIkdNTWVudXMiLCJuYW1lIiwiZm4iLCJsb2ciLCJhY2Nlc3NLZXkiLCJhbGVydCIsImluaXQiLCJjb25zb2xlIiwicm9ib3RzIiwiX3RpdGxlIiwid2luZG93IiwiZG9jdW1lbnQiLCJ0aXRsZSIsInJlcyIsInN0YXR1cyIsInJlcXVlc3QiLCJyZXNwb25zZVVSTCIsInNpdGVtYXAiLCJzaG93IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInN0eWxlIiwid2lkdGgiLCJwaW5nIiwiaGVhZHMiLCJBcnJheSIsImZyb20iLCJmb3JFYWNoIiwiaGVhZCIsImJhY2tncm91bmRDb2xvciIsImNsb3NlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJrZXlDb2RlIiwicG9wdXBzIiwiaSIsImxlbmd0aCIsImRpc3BsYXkiLCJpY29uX2Nsb3NlIiwiY2xpY2siLCJzYXZlIiwiY3RybEtleSIsImtleSIsInByZXZlbnREZWZhdWx0IiwiYnV0dG9uIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJjaGVja19tZXRhX3RhZ3MiLCJnZXRFbGVtZW50c0J5TmFtZSIsInNldEludGVydmFsIiwic3RhcnRzV2l0aCIsIm1ldGFfcHViZGF0ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlYWNoIiwicHJvcGVydHkiLCJhdXRvX3JlZmVzaCIsInJlZnJlc2hfYnV0dG9uIiwiYiIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsImFkZCIsIm9uY2xpY2siLCJ0aW1lciIsImlkIiwicmVtb3ZlIiwiY2xlYXJJbnRlcnZhbCIsImFmdGVyIiwiUGluZyIsImNoZWNrIiwic2V0VGltZW91dCIsImNhdGNoIiwiZXJyb3IiLCJtYWluIiwibSIsIkdNIiwicmVnaXN0ZXJNZW51Q29tbWFuZCIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJocmVmIiwiZW5kc1dpdGgiLCJhcHAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"get\": () => (/* binding */ get),\n/* harmony export */   \"post\": () => (/* binding */ post)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var axios_userscript_adapter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios-userscript-adapter */ \"axios-userscript-adapter\");\n/* harmony import */ var axios_userscript_adapter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios_userscript_adapter__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction get(url, config) {\n  return axios__WEBPACK_IMPORTED_MODULE_0___default().get(url, {\n    adapter: (axios_userscript_adapter__WEBPACK_IMPORTED_MODULE_1___default()),\n    ...config\n  });\n}\nfunction post(url, data, config) {\n  return axios__WEBPACK_IMPORTED_MODULE_0___default().post(url, data, {\n    adapter: (axios_userscript_adapter__WEBPACK_IMPORTED_MODULE_1___default()),\n    ...config\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVPLFNBQVNFLEdBQVQsQ0FBNkNDLEdBQTdDLEVBQTBEQyxNQUExRCxFQUFnSTtFQUNySSxPQUFPSixnREFBQSxDQUFVRyxHQUFWLEVBQWU7SUFDcEJGLE9BRG9CO0lBRXBCLEdBQUdHO0VBRmlCLENBQWYsQ0FBUDtBQUlEO0FBRU0sU0FBU0MsSUFBVCxDQUE4Q0YsR0FBOUMsRUFBMkRHLElBQTNELEVBQXVFRixNQUF2RSxFQUE2STtFQUNsSixPQUFPSixpREFBQSxDQUFXRyxHQUFYLEVBQWdCRyxJQUFoQixFQUFzQjtJQUMzQkwsT0FEMkI7SUFFM0IsR0FBR0c7RUFGd0IsQ0FBdEIsQ0FBUDtBQUlEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQ3Jhd2xUb29sLy4vc3JjL3V0aWxzLnRzPzdkZGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zLCB7IEF4aW9zUmVxdWVzdENvbmZpZywgQXhpb3NSZXNwb25zZSB9IGZyb20gJ2F4aW9zJ1xuaW1wb3J0IGFkYXB0ZXIgZnJvbSAnYXhpb3MtdXNlcnNjcmlwdC1hZGFwdGVyJ1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0PFQgPSBhbnksIFIgPSBBeGlvc1Jlc3BvbnNlPFQ+PiAodXJsOiBzdHJpbmcsIGNvbmZpZz86IEV4Y2x1ZGU8UGFydGlhbDxBeGlvc1JlcXVlc3RDb25maWc+LCAnYWRhcHRlcic+KTogUHJvbWlzZTxSPiB7XG4gIHJldHVybiBheGlvcy5nZXQodXJsLCB7XG4gICAgYWRhcHRlcixcbiAgICAuLi5jb25maWdcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvc3Q8VCA9IGFueSwgUiA9IEF4aW9zUmVzcG9uc2U8VD4+ICh1cmw6IHN0cmluZywgZGF0YT86IGFueSwgY29uZmlnPzogRXhjbHVkZTxQYXJ0aWFsPEF4aW9zUmVxdWVzdENvbmZpZz4sICdhZGFwdGVyJz4pOiBQcm9taXNlPFI+IHtcbiAgcmV0dXJuIGF4aW9zLnBvc3QodXJsLCBkYXRhLCB7XG4gICAgYWRhcHRlcixcbiAgICAuLi5jb25maWdcbiAgfSlcbn1cbiJdLCJuYW1lcyI6WyJheGlvcyIsImFkYXB0ZXIiLCJnZXQiLCJ1cmwiLCJjb25maWciLCJwb3N0IiwiZGF0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils.ts\n");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = axios;

/***/ }),

/***/ "axios-userscript-adapter":
/*!************************************!*\
  !*** external "axiosGmxhrAdapter" ***!
  \************************************/
/***/ ((module) => {

module.exports = axiosGmxhrAdapter;

/***/ }),

/***/ "./package.json":
/*!**********************!*\
  !*** ./package.json ***!
  \**********************/
/***/ ((module) => {

module.exports = JSON.parse('{"name":"CrawlTool","description":"æ³›é‡‡ç³»ç»Ÿä¸“ä¸šç‰ˆæ’ä»¶","version":"0.0.5","author":{"name":"fangtiansheng","email":"fangtiansheng@gmail.com"},"scripts":{"postversion":"git push --follow-tags","analize":"npm_config_report=true npm run build","build":"webpack --mode production --config config/webpack.config.production.cjs","dev":"webpack --mode development --config config/webpack.config.dev.cjs"},"repository":{"type":"git","url":"https://github.com/Trim21/webpack-userscript-template"},"private":true,"dependencies":{"@trim21/gm-fetch":"^0.0.3","axios":"^0.27.2","axios-userscript-adapter":"^0.2.0","jquery":"^3.6.0"},"devDependencies":{"@babel/core":"^7.18.5","@babel/preset-env":"^7.18.2","@babel/preset-typescript":"^7.17.12","@types/greasemonkey":"^4.0.3","@types/jquery":"^3.5.14","babel-loader":"^8.2.5","browserslist":"^4.20.4","css-loader":"^6.7.1","less":"^4.1.3","less-loader":"^11.0.0","style-loader":"^3.3.1","typescript":"^4.7.4","userscript-metadata-webpack-plugin":"^0.1.1","webpack":"^5.73.0","webpack-bundle-analyzer":"^4.5.0","webpack-cli":"^4.10.0","webpack-livereload-plugin":"^3.0.2","webpack-merge":"^5.8.0"}}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	
/******/ })()
;